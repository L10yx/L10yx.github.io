<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>LOS - A Light Linux Like OS Kernel &lt;操作系统内核&gt; | 老钉头のBlog</title><meta name="author" content="老钉头"><meta name="copyright" content="老钉头"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="仓库Link to Github Repository C语言基础     2’s complement unsigned     8 bits char unsigned char   16 bits short int unsigned short int   32 bits int unsigned int   32 or 64 bits long unsigned long   64 bi">
<meta property="og:type" content="article">
<meta property="og:title" content="LOS - A Light Linux Like OS Kernel &lt;操作系统内核&gt;">
<meta property="og:url" content="http://l10yx.github.io/2024/04/23/391os/index.html">
<meta property="og:site_name" content="老钉头のBlog">
<meta property="og:description" content="仓库Link to Github Repository C语言基础     2’s complement unsigned     8 bits char unsigned char   16 bits short int unsigned short int   32 bits int unsigned int   32 or 64 bits long unsigned long   64 bi">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://l10yx.github.io/img/3F7B146C-C286-4CCB-AE97-4DFD69F7EDAF_1_201_a.jpeg">
<meta property="article:published_time" content="2024-04-23T08:17:49.000Z">
<meta property="article:modified_time" content="2024-05-25T04:03:52.532Z">
<meta property="article:author" content="老钉头">
<meta property="article:tag" content="OS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://l10yx.github.io/img/3F7B146C-C286-4CCB-AE97-4DFD69F7EDAF_1_201_a.jpeg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://l10yx.github.io/2024/04/23/391os/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'LOS - A Light Linux Like OS Kernel <操作系统内核>',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-25 12:03:52'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/3F7B146C-C286-4CCB-AE97-4DFD69F7EDAF_1_201_a.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/7CFED44B-E222-4A60-B7C7-AC0195AE23D0_1_105_c.jpeg')"><nav id="nav"><span id="blog-info"><a href="/" title="老钉头のBlog"><span class="site-name">老钉头のBlog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">LOS - A Light Linux Like OS Kernel &lt;操作系统内核&gt;</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-04-23T08:17:49.000Z" title="发表于 2024-04-23 16:17:49">2024-04-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-25T04:03:52.532Z" title="更新于 2024-05-25 12:03:52">2024-05-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/SDE/">SDE</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>21分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="LOS - A Light Linux Like OS Kernel &lt;操作系统内核&gt;"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="仓库"><a href="#仓库" class="headerlink" title="仓库"></a>仓库</h1><p><a target="_blank" rel="noopener" href="https://github.com/L10yx/ECE391/tree/main/mp3"><strong>Link to Github Repository</strong></a></p>
<h1 id="C语言基础"><a href="#C语言基础" class="headerlink" title="C语言基础"></a>C语言基础</h1><div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>2’s complement</th>
<th>unsigned</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>8 bits</strong></td>
<td>char</td>
<td>unsigned char</td>
</tr>
<tr>
<td><strong>16 bits</strong></td>
<td>short int</td>
<td>unsigned short int</td>
</tr>
<tr>
<td><strong>32 bits</strong></td>
<td>int</td>
<td>unsigned int</td>
</tr>
<tr>
<td><strong>32 or 64 bits</strong></td>
<td>long</td>
<td>unsigned long</td>
</tr>
<tr>
<td><strong>64 bits</strong></td>
<td>long long int</td>
<td>unsigned long long int</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>2’s complement</th>
<th>unsigned</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>8 bits</strong></td>
<td>int8_t</td>
<td>uint8_t</td>
</tr>
<tr>
<td><strong>16 bits</strong></td>
<td>int16_t</td>
<td>uint16_t</td>
</tr>
<tr>
<td><strong>32 bits</strong></td>
<td>int32_t</td>
<td>uint32_t</td>
</tr>
<tr>
<td><strong>64 bits</strong></td>
<td>int64_t</td>
<td>uint64_t</td>
</tr>
</tbody>
</table>
</div>
<p>In Linux, they can be used by including the <code>stdint.h</code> header file in user code or the <code>linux/types.h</code> header file in kernel code.</p>
<h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><p>Linux 操作系统提供了大量的命令用于各种任务，包括文件管理、系统监控、网络配置等。这里列出一些常用的 Linux 命令：</p>
<h3 id="文件和目录管理"><a href="#文件和目录管理" class="headerlink" title="文件和目录管理"></a>文件和目录管理</h3><ul>
<li><code>ls</code>：列出目录内容</li>
<li><code>cd</code>：更改目录</li>
<li><code>mkdir</code>：创建新目录</li>
<li><code>rmdir</code>：删除空目录</li>
<li><code>cp</code>：复制文件或目录</li>
<li><code>mv</code>：移动文件或目录</li>
<li><code>rm</code>：删除文件或目录</li>
<li><code>touch</code>：创建空文件或更改文件时间戳</li>
</ul>
<h3 id="文本处理"><a href="#文本处理" class="headerlink" title="文本处理"></a>文本处理</h3><ul>
<li><code>cat</code>：查看文件内容、创建文件、文件合并、追加文件内容等</li>
<li><code>grep</code>：搜索文本并显示匹配行</li>
<li><code>awk</code>：文本和数据的模式扫描和处理语言</li>
<li><code>sed</code>：流编辑器，用于对文本进行过滤和转换</li>
<li><code>echo</code>：输出参数指定的文本</li>
</ul>
<h3 id="系统信息"><a href="#系统信息" class="headerlink" title="系统信息"></a>系统信息</h3><ul>
<li><code>uname</code>：显示系统信息</li>
<li><code>top</code>：显示当前运行的进程和系统运行状态</li>
<li><code>df</code>：显示磁盘空间使用情况</li>
<li><code>free</code>：显示内存使用情况</li>
</ul>
<h3 id="网络管理"><a href="#网络管理" class="headerlink" title="网络管理"></a>网络管理</h3><ul>
<li><code>ping</code>：检查网络连接</li>
<li><code>ifconfig</code>：配置或显示网络接口参数</li>
<li><code>netstat</code>：显示网络连接、路由表、接口统计等网络信息</li>
<li><code>ssh</code>：安全地访问远程服务器</li>
<li><code>scp</code>：通过 SSH 传输文件</li>
</ul>
<h3 id="权限和用户管理"><a href="#权限和用户管理" class="headerlink" title="权限和用户管理"></a>权限和用户管理</h3><ul>
<li><code>chmod</code>：更改文件或目录的权限</li>
<li><code>chown</code>：更改文件或目录的所有者</li>
<li><code>useradd</code>：添加用户</li>
<li><code>usermod</code>：修改用户信息</li>
</ul>
<h3 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h3><ul>
<li><code>ps</code>：显示当前进程</li>
<li><code>kill</code>：终止进程</li>
<li><code>jobs</code>：列出当前会话中的任务</li>
<li><code>bg</code>：将任务放在后台执行</li>
<li><code>fg</code>：将任务调到前台继续执行</li>
</ul>
<p>这只是 Linux 命令的一小部分，还有很多其他命令和选项可用于各种用途。如果有特定的需求或想了解某个命令的详细用法，可以使用 <code>man</code> 命令查看该命令的手册页，例如 <code>man ls</code>。</p>
<h1 id="debug-sh-详解"><a href="#debug-sh-详解" class="headerlink" title="debug.sh 详解"></a>debug.sh 详解</h1><p><code>chmod +x debug.sh</code> 添加执行权限<br><code>dos2unix debug.sh</code> 将文本格式从 DOS（或 Windows）格式转换为 Unix/Linux 格式。</p>
<ul>
<li>DOS 与 Unix 文本文件的差异：<br>行结束符：DOS/Windows 文本文件的行结束符是回车符（CR）加换行符（LF），记作 \r\n。而 Unix/Linux 系统中的文本文件只使用换行符（LF），记作 \n。</li>
<li>dos2unix 的运作原理：<br>移除 \r：该工具会遍历文件，查找每一行的结尾处的 \r\n 组合，并将其替换为单个的 \n，从而使文件符合 Unix/Linux 系统的文本格式标准。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -d /mnt/tmpmp3 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">rm</span> -rf /mnt/tmpmp3</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -d /tmp/mp3 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">rm</span> -rf /tmp/mp3</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> /mnt/tmpmp3</span><br><span class="line"><span class="built_in">mkdir</span> /tmp/mp3</span><br><span class="line"><span class="built_in">cp</span> ./bootimg /tmp/mp3/</span><br><span class="line"><span class="built_in">cp</span> ./filesys_img /tmp/mp3/</span><br><span class="line"><span class="built_in">cp</span> ./mp3.img /tmp/mp3/</span><br><span class="line">mount -o loop,offset=32256 /tmp/mp3/mp3.img /mnt/tmpmp3</span><br><span class="line"><span class="built_in">cp</span> -f /tmp/mp3/bootimg /mnt/tmpmp3/</span><br><span class="line"><span class="built_in">cp</span> -f /tmp/mp3/filesys_img /mnt/tmpmp3/</span><br><span class="line">umount /mnt/tmpmp3</span><br><span class="line"><span class="built_in">cp</span> -f /tmp/mp3/mp3.img ./</span><br><span class="line"><span class="built_in">rm</span> -rf /tmp/mp3</span><br><span class="line"><span class="built_in">rm</span> -rf /mnt/tmpmp3</span><br></pre></td></tr></table></figure>
<p>这个Bash脚本主要用于处理文件和目录操作，特别是涉及挂载、复制和清理操作。以下是每个部分的作用说明：</p>
<ol>
<li><strong>检查和删除目录</strong>:<br>首先，脚本检查<code>/mnt/tmpmp3</code>和<code>/tmp/mp3</code>这两个目录是否存在。如果存在，脚本将使用<code>rm -rf</code>命令删除这些目录及其内容，确保目录是空的，避免复制时发生错误或数据冲突。</li>
<li><strong>创建新的空目录</strong>:<br>接下来，脚本创建两个新的空目录<code>/mnt/tmpmp3</code>和<code>/tmp/mp3</code>，用于存放临时文件和挂载镜像文件。</li>
<li><strong>复制文件到临时目录</strong>:<br>将当前目录下的<code>bootimg</code>、<code>filesys_img</code>和<code>mp3.img</code>文件复制到<code>/tmp/mp3</code>目录，这是为了进行一些操作，比如更新或修改这些文件。</li>
<li><strong>挂载文件系统镜像</strong>:<br>使用<code>mount</code>命令将<code>/tmp/mp3/mp3.img</code>文件系统镜像以只读和指定偏移量的方式挂载到<code>/mnt/tmpmp3</code>。这里的偏移量<code>32256</code>通常是文件系统分区的起始位置。挂载后，可以在挂载点操作文件系统中的文件。</li>
<li><strong>复制更新的文件到挂载的文件系统</strong>:<br>将<code>bootimg</code>和<code>filesys_img</code>从<code>/tmp/mp3</code>复制到已挂载的<code>/mnt/tmpmp3</code>目录。这可能是用于更新镜像中的启动或系统文件。</li>
<li><strong>卸载挂载的文件系统</strong>:<br>执行<code>umount</code>命令来卸载<code>/mnt/tmpmp3</code>，以确保所有更改都被写入磁盘并且文件系统不再被系统使用。</li>
<li><strong>复制镜像回原始位置并清理临时目录</strong>:<br>将更新后的<code>mp3.img</code>从<code>/tmp/mp3</code>复制回脚本运行的当前目录。然后删除<code>/tmp/mp3</code>和<code>/mnt/tmpmp3</code>目录，清理所有临时文件和目录，保持环境整洁。</li>
</ol>
<p>这个脚本通常用于在系统或设备中更新或替换文件系统镜像的场景。通过这种方式，可以安全地修改镜像文件，同时保留原始文件和设置的安全备份。</p>
<h2 id="Bash"><a href="#Bash" class="headerlink" title="Bash"></a>Bash</h2><p>Bash（Bourne Again SHell）脚本是一种用于自动化Unix和Linux系统上的任务的脚本语言。它是Shell脚本的一种形式，允许你编写一系列命令来执行复杂的操作，这些命令通常是你会在命令行界面中手动输入的。Bash脚本提供了一个强大的工具，以简化日常任务，自动化程序，以及管理系统。</p>
<ul>
<li>最常用的 Shell 之一，由 GNU 项目作为 Bourne Shell 的自由替代品开发。</li>
<li>它是许多 Linux 发行版和 macOS 的默认 Shell。</li>
<li>Bash 扩展了 Bourne Shell 的功能，包括整合编程功能（如数组和整数算术）。</li>
</ul>
<h3 id="主要特点"><a href="#主要特点" class="headerlink" title="主要特点"></a>主要特点</h3><ul>
<li><strong>自动化</strong>: Bash脚本能够自动化几乎任何可以在命令行执行的任务，包括文件操作、程序运行和系统监控等。</li>
<li><strong>条件语句</strong>: 支持<code>if-else</code>结构，使得根据条件执行不同的代码段成为可能。</li>
<li><strong>循环控制</strong>: 支持<code>for</code>、<code>while</code>和<code>until</code>循环，使得重复执行任务变得简单。</li>
<li><strong>变量和参数</strong>: Bash允许定义变量和接受传递给脚本的参数，使脚本更加灵活和动态。</li>
<li><strong>函数</strong>: 可以定义函数来组织和复用代码，提高脚本的可维护性和可读性。</li>
</ul>
<h3 id="基本组成"><a href="#基本组成" class="headerlink" title="基本组成"></a>基本组成</h3><ol>
<li><strong>Shebang</strong>: 脚本的第一行通常是Shebang（<code>#!/bin/bash</code>），它告诉系统使用哪个解释器来运行脚本。</li>
<li><strong>注释</strong>: 以<code>#</code>开头的行，用于解释脚本的功能和复杂部分，提高可读性。</li>
<li><strong>命令</strong>: Bash脚本中的命令和在命令行中输入的命令一样，可以执行程序、调用工具或修改文件。</li>
<li><strong>控制结构</strong>: 使用条件语句和循环来控制脚本的流程。</li>
<li><strong>输入/输出重定向</strong>: 使用重定向和管道来处理数据流。</li>
</ol>
<p>输入/输出重定向和管道是 Bash 脚本中处理数据流的重要技术。它们允许你控制程序从哪里获取输入以及将输出发送到哪里。这些功能提高了脚本的灵活性和功能强大性，使得能够构建复杂的数据处理管道和命令序列。</p>
<h4 id="输入-输出重定向"><a href="#输入-输出重定向" class="headerlink" title="输入/输出重定向"></a>输入/输出重定向</h4><p>重定向是改变标准输入（stdin）、标准输出（stdout）和标准错误（stderr）的默认目的地的过程。</p>
<ol>
<li><p><strong>标准输入重定向（<code>&lt;</code>）</strong>：</p>
<ul>
<li>使用 <code>&lt;</code> 符号可以将文件的内容重定向为命令的输入。例如，<code>command &lt; inputfile</code> 会将 <code>inputfile</code> 的内容用作 <code>command</code> 的输入。</li>
</ul>
</li>
<li><p><strong>标准输出重定向（<code>&gt;</code> 和 <code>&gt;&gt;</code>）</strong>：</p>
<ul>
<li>使用 <code>&gt;</code> 符号可以将命令的输出写入到文件中，替换文件原有内容。例如，<code>command &gt; outputfile</code> 将 <code>command</code> 的输出保存到 <code>outputfile</code>，覆盖其原有内容。</li>
<li>使用 <code>&gt;&gt;</code> 符号可以将命令的输出追加到现有文件的末尾。例如，<code>command &gt;&gt; outputfile</code> 将 <code>command</code> 的输出追加到 <code>outputfile</code>。</li>
</ul>
</li>
<li><p><strong>标准错误重定向（<code>2&gt;</code> 和 <code>2&gt;&gt;</code>）</strong>：</p>
<ul>
<li>使用 <code>2&gt;</code> 符号可以将错误信息输出到指定文件，替换文件原有内容。例如，<code>command 2&gt; errorfile</code> 将错误信息输出到 <code>errorfile</code>。</li>
<li>使用 <code>2&gt;&gt;</code> 可以将错误信息追加到文件末尾。</li>
</ul>
</li>
<li><p><strong>同时重定向标准输出和标准错误（<code>&amp;&gt;</code> 和 <code>&amp;&gt;&gt;</code>）</strong>：</p>
<ul>
<li><code>command &amp;&gt; file</code> 将标准输出和标准错误合并后重定向到 <code>file</code>，覆盖原内容。</li>
<li><code>command &amp;&gt;&gt; file</code> 将标准输出和标准错误合并后追加到 <code>file</code> 的末尾。</li>
</ul>
</li>
</ol>
<h4 id="管道（-）"><a href="#管道（-）" class="headerlink" title="管道（|）"></a>管道（<code>|</code>）</h4><p>管道是用于将一个命令的输出直接作为另一个命令的输入的技术。它是在命令之间创建数据流动的一种方式。</p>
<ul>
<li><strong>使用管道</strong>：使用 <code>|</code> 符号可以将一个命令的标准输出直接传递给另一个命令作为输入。例如，<code>command1 | command2</code> 将 <code>command1</code> 的输出作为 <code>command2</code> 的输入。</li>
</ul>
<p>这种技术非常适合处理数据流和创建复杂的命令链，特别是在处理文本和文件内容时。通过组合重定向和管道，你可以构建功能强大且灵活的脚本，以实现复杂的数据处理任务。</p>
<h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><ul>
<li><strong>系统管理</strong>: 自动备份、用户管理、系统监测等。</li>
<li><strong>软件开发</strong>: 自动编译和部署应用程序。</li>
<li><strong>数据处理</strong>: 批量处理文件、自动化数据转换和分析。</li>
<li><strong>网络操作</strong>: 自动化FTP传输、网络监控等。</li>
</ul>
<p>Bash脚本是系统管理员和开发人员的重要工具，因为它们可以大大简化重复性任务并减少人为错误。通过合理利用Bash脚本，可以实现高效、可靠的系统管理和数据操作流程。</p>
<h1 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h1><p>文件扩展名 <code>.img</code> 通常与磁盘映像文件关联，它是一个计算机磁盘驱动器或整个数据存储设备的精确复制。这些文件包含了原始磁盘或分区的完整副本，通常用于备份、系统迁移或复制磁盘内容。</p>
<h3 id="使用场景-1"><a href="#使用场景-1" class="headerlink" title="使用场景"></a>使用场景</h3><ol>
<li><strong>系统备份和恢复</strong>：.img 文件可用于操作系统的完整备份。在系统崩溃或硬件故障时，可以使用此类文件快速恢复系统。</li>
<li><strong>虚拟机</strong>：虚拟化软件如 VMware 或 VirtualBox 可使用 .img 文件作为虚拟机的磁盘驱动器。</li>
<li><strong>软件分发</strong>：操作系统分发，例如 Linux 发行版，经常以 .img 文件的形式提供，便于用户在不同的硬件上安装和运行。</li>
</ol>
<h3 id="创建和使用"><a href="#创建和使用" class="headerlink" title="创建和使用"></a>创建和使用</h3><p>.img 文件可以通过各种磁盘克隆工具创建，如 dd（在 Unix 和 Linux 系统中常用），或者 Windows 的磁盘映像工具。创建 .img 文件的基本命令（使用 dd 工具）如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/sdx of=/path/to/file.img</span><br></pre></td></tr></table></figure>
<p>这里 <code>if</code> 表示输入文件（一个磁盘或分区），<code>of</code> 表示输出文件（.img 文件）。</p>
<h3 id="挂载-img-文件"><a href="#挂载-img-文件" class="headerlink" title="挂载 .img 文件"></a>挂载 .img 文件</h3><p>在 Linux 系统中，你可以挂载 .img 文件来访问其内容，就像挂载实际的物理磁盘一样。挂载命令可能如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount -o loop file.img /mnt/img</span><br></pre></td></tr></table></figure>
<p>这里 <code>/mnt/img</code> 是挂载点目录，你需要提前创建它。</p>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>.img 文件通常很大，因为它们包含了磁盘的完整内容。因此，处理这些文件时，需要有足够的存储空间和相应的硬件支持。</p>
<p>总之，.img 文件是一种非常实用的工具，可以用于数据备份、系统迁移，以及操作系统的安装和虚拟化。</p>
<h1 id="multiboot-h"><a href="#multiboot-h" class="headerlink" title="multiboot.h"></a>multiboot.h</h1><h3 id="GRUB-的关键特性："><a href="#GRUB-的关键特性：" class="headerlink" title="GRUB 的关键特性："></a>GRUB 的关键特性：</h3><ol>
<li><strong>多操作系统支持</strong>：GRUB 可以管理多个操作系统的启动，让用户在启动时可以选择不同的操作系统。</li>
<li><strong>配置灵活</strong>：GRUB 提供了一个配置文件（通常是 <code>/boot/grub/grub.cfg</code>），用户可以编辑这个文件来改变启动菜单的行为，如添加新的启动项、修改默认的操作系统、调整超时时间等。</li>
<li><strong>模块化设计</strong>：GRUB 采用模块化设计，可以动态加载模块来支持不同的文件系统、图形界面等。</li>
<li><strong>交互式命令行模式</strong>：在启动过程中，GRUB 提供一个命令行模式，允许用户手动输入命令来加载操作系统或进行故障排除。</li>
</ol>
<h3 id="GRUB-Compliance-的意义："><a href="#GRUB-Compliance-的意义：" class="headerlink" title="GRUB Compliance 的意义："></a>GRUB Compliance 的意义：</h3><ul>
<li><strong>启动协议</strong>：操作系统需要支持与 GRUB 通信的协议（如 Multiboot Specification），使得 GRUB 可以正确加载和启动操作系统。</li>
<li><strong>文件系统兼容性</strong>：GRUB 必须能识别操作系统所在的文件系统。例如，它支持 ext2, ext3, ext4, FAT, NTFS 等文件系统。</li>
<li><strong>硬件支持</strong>：操作系统和硬件平台需要适配 GRUB。对于新的硬件平台，可能需要更新或修改 GRUB 来提供支持。</li>
<li><strong>配置和自定义</strong>：操作系统发行版通常提供预配置的 GRUB 设置，确保在安装操作系统时 GRUB 能正确设置并能引导新安装的系统。</li>
</ul>
<p>如果一个系统或组件是 GRUB compliant，这意味着它可以无缝地与 GRUB 集成，确保在启动时能被 GRUB 正确识别、配置和加载。这对于确保用户可以在包含多个不同操作系统的计算机上顺利选择和启动所需系统至关重要。</p>
<h1 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h1><p><a target="_blank" rel="noopener" href="https://www.intel.com/content/www/us/en/developer/articles/technical/intel-sdm.html">Intel Docs</a><br><a target="_blank" rel="noopener" href="https://wiki.osdev.org/Expanded_Main_Page">OSDev</a></p>
<h2 id="Checkpoint-1"><a href="#Checkpoint-1" class="headerlink" title="Checkpoint 1"></a>Checkpoint 1</h2><h3 id="OS-Booting-GDT-amp-IDT-Setup"><a href="#OS-Booting-GDT-amp-IDT-Setup" class="headerlink" title="OS Booting: GDT &amp; IDT Setup"></a>OS Booting: GDT &amp; IDT Setup</h3><h3 id="PIC-Programmable-interrupt-controller"><a href="#PIC-Programmable-interrupt-controller" class="headerlink" title="PIC (Programmable interrupt controller)"></a>PIC (Programmable interrupt controller)</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Chip</th>
<th>Purpose</th>
<th>I/O port</th>
</tr>
</thead>
<tbody>
<tr>
<td>Master PIC</td>
<td>Command</td>
<td>0x0020</td>
</tr>
<tr>
<td>Master PIC</td>
<td>Data</td>
<td>0x0021</td>
</tr>
<tr>
<td>Slave PIC</td>
<td>Command</td>
<td>0x00A0</td>
</tr>
<tr>
<td>Slave PIC</td>
<td>Data</td>
<td>0x00A1</td>
</tr>
</tbody>
</table>
</div>
<h3 id="RTC"><a href="#RTC" class="headerlink" title="RTC"></a>RTC</h3><h3 id="Keyboard"><a href="#Keyboard" class="headerlink" title="Keyboard"></a>Keyboard</h3><blockquote>
<p>PS/2 控制器是一种接口硬件，用于连接键盘和鼠标到个人计算机。它得名于 IBM 的 Personal System/2 系列计算机，这些计算机在 1987 年首次引入了 PS/2 端口。尽管 USB 接口在现代计算机中更加普遍，PS/2 接口仍然在某些情况下因其独特的优势而被使用。</p>
<h4 id="主要特点和功能"><a href="#主要特点和功能" class="headerlink" title="主要特点和功能"></a>主要特点和功能</h4><ol>
<li><strong>接口类型</strong>：<br>PS/2 端口是一个 6 针的迷你DIN连接器。通常有两个端口，一个用于键盘（通常是紫色的），另一个用于鼠标（通常是绿色的）。</li>
<li><strong>通信协议</strong>：<br>PS/2 设备使用同步串行通信协议。这意味着数据在键盘或鼠标和计算机之间以串行方式传输。</li>
<li><strong>优点</strong>：<br><strong>硬件级中断</strong>：PS/2 设备在用户按键或移动鼠标时可以生成硬件中断，允许立即处理，这对于要求高响应性的应用非常重要。<br><strong>不占用 USB 资源</strong>：在资源有限的环境中，使用 PS/2 可以留出 USB 端口用于其他设备。<br><strong>全 N-Key Rollover</strong>：许多 PS/2 键盘支持全 N-Key Rollover（NKRO），意味着键盘可以同时注册每个按下的键，这对于高速打字或游戏非常有利。</li>
<li><strong>缺点</strong>：<br><strong>不支持热插拔</strong>：PS/2 设备不支持热插拔，连接或断开设备时需要关闭电源，以防止端口或设备损坏。<br><strong>逐渐被淘汰</strong>：随着 USB 接口的普及，许多现代计算机已经不再配备 PS/2 端口。<h4 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h4>尽管 PS/2 接口在新的设备和系统中已较少见，但它仍然在一些特定的场合中被使用，尤其是在需要高可靠性和响应性的环境中，如某些工业、商业和专业音频设备领域。此外，一些高性能游戏键盘也保留了对 PS/2 的支持，以利用其优异的响应速度和全键无冲的特性。</li>
</ol>
</blockquote>
<h3 id="Paging-分页"><a href="#Paging-分页" class="headerlink" title="Paging 分页"></a>Paging 分页</h3><h4 id="Page-Directory-Entry-4-MB"><a href="#Page-Directory-Entry-4-MB" class="headerlink" title="Page Directory Entry (4 MB)"></a>Page Directory Entry (4 MB)</h4><div class="table-container">
<table>
<thead>
<tr>
<th>Bit Range</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>31-22</td>
<td>Bits 31-22 of address</td>
<td></td>
</tr>
<tr>
<td>21</td>
<td>R/S</td>
<td>Reserved (0)</td>
</tr>
<tr>
<td>20</td>
<td>AVL</td>
<td>Available for system programmer</td>
</tr>
<tr>
<td>13-12</td>
<td>P/S</td>
<td>Page Size</td>
</tr>
<tr>
<td>11</td>
<td>A</td>
<td>Accessed</td>
</tr>
<tr>
<td>10</td>
<td>PCD</td>
<td>Cache Disable</td>
</tr>
<tr>
<td>9</td>
<td>PWT</td>
<td>Write-Through</td>
</tr>
<tr>
<td>8</td>
<td>U/S</td>
<td>User/Supervisor</td>
</tr>
<tr>
<td>7</td>
<td>R/W</td>
<td>Read/Write</td>
</tr>
<tr>
<td>6-4</td>
<td>-</td>
<td>Reserved</td>
</tr>
<tr>
<td>3</td>
<td>PWT</td>
<td>Write-Through</td>
</tr>
<tr>
<td>2</td>
<td>PCD</td>
<td>Cache Disable</td>
</tr>
<tr>
<td>1</td>
<td>A</td>
<td>Accessed</td>
</tr>
<tr>
<td>0</td>
<td>P</td>
<td>Present</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Page-Directory-Entry"><a href="#Page-Directory-Entry" class="headerlink" title="Page Directory Entry"></a>Page Directory Entry</h4><div class="table-container">
<table>
<thead>
<tr>
<th>Bit Range</th>
<th>Description</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>31-12</td>
<td>Bits 31-12 of address</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td>AVL</td>
<td>Available</td>
</tr>
<tr>
<td>10-9</td>
<td>-</td>
<td>Reserved</td>
</tr>
<tr>
<td>8</td>
<td>G</td>
<td>Global</td>
</tr>
<tr>
<td>7</td>
<td>PS</td>
<td>Page Size</td>
</tr>
<tr>
<td>6</td>
<td>D</td>
<td>Dirty</td>
</tr>
<tr>
<td>5</td>
<td>A</td>
<td>Accessed</td>
</tr>
<tr>
<td>4</td>
<td>PCD</td>
<td>Cache Disable</td>
</tr>
<tr>
<td>3</td>
<td>PWT</td>
<td>Write-Through</td>
</tr>
<tr>
<td>2</td>
<td>U/S</td>
<td>User/Supervisor</td>
</tr>
<tr>
<td>1</td>
<td>R/W</td>
<td>Read/Write</td>
</tr>
<tr>
<td>0</td>
<td>P</td>
<td>Present</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Legend"><a href="#Legend" class="headerlink" title="Legend"></a>Legend</h4><ul>
<li><strong>P</strong>: Present</li>
<li><strong>R/W</strong>: Read/Write</li>
<li><strong>U/S</strong>: User/Supervisor</li>
<li><strong>PWT</strong>: Write-Through</li>
<li><strong>PCD</strong>: Cache Disable</li>
<li><strong>A</strong>: Accessed</li>
<li><strong>D</strong>: Dirty</li>
<li><strong>PS</strong>: Page Size</li>
<li><strong>G</strong>: Global</li>
<li><strong>AVL</strong>: Available</li>
<li><strong>PAT</strong>: Page Attribute Table</li>
</ul>
<h2 id="Checkpoint-2"><a href="#Checkpoint-2" class="headerlink" title="Checkpoint 2"></a>Checkpoint 2</h2><h3 id="Terminal-Driver"><a href="#Terminal-Driver" class="headerlink" title="Terminal Driver"></a>Terminal Driver</h3><p>read<br>write<br>scrolling<br>clear</p>
<h3 id="File-system-Read-only"><a href="#File-system-Read-only" class="headerlink" title="File system (Read-only)"></a>File system (Read-only)</h3><h1 id="Guide-to-WFH-with-Docker"><a href="#Guide-to-WFH-with-Docker" class="headerlink" title="Guide to WFH with Docker"></a>Guide to WFH with Docker</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>The intention of this local development setup is for those who prefer working at home and do not want to go through the long setup time needed with a setup script. Just remember that everything you do with this setup will be stored on your local machine. So after doing your mp, make sure to use Git to commit your code to GitLab. The document includes the setup instruction for Windows, Mac, and Linux.</p>
<h2 id="Disclaimer"><a href="#Disclaimer" class="headerlink" title="Disclaimer"></a>Disclaimer</h2><p>While developing using this setup is supposedly the same as developing on a ECE391 lab computer, there are still chances that your code won’t work the same on it. So please run your code on a lab computer before your hand in time slot to make sure everything is working. For previously stated reason, we will not accept and demo running using this setup.</p>
<h2 id="Setup-steps"><a href="#Setup-steps" class="headerlink" title="Setup steps"></a>Setup steps</h2><h3 id="Downloading-docker-and-pulling-the-image"><a href="#Downloading-docker-and-pulling-the-image" class="headerlink" title="Downloading docker and pulling the image"></a>Downloading docker and pulling the image</h3><h4 id="Windows-Mac-Users"><a href="#Windows-Mac-Users" class="headerlink" title="Windows/Mac Users"></a>Windows/Mac Users</h4><ol>
<li>Download and install<sup><a href="#jump1">[1]</a></sup> <a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">Docker Desktop</a></li>
<li>In the image tab of Docker Desktop, search for averagefossenjoyer/ece391_docker</li>
<li>Pull the image that matches your architecture by selecting the tag<sup><a href="#jump2">[2]</a></sup><h4 id="Linux-Users"><a href="#Linux-Users" class="headerlink" title="Linux Users"></a>Linux Users</h4></li>
<li>Install Docker from your distro’s repo.<sup><a href="#jump3">[3]</a></sup></li>
<li>Start the Docker daemon.</li>
<li>docker pull averagefossenjoyer/ece391_docker:latest-amd64 or latest-arm64<h3 id="Persistent-storage"><a href="#Persistent-storage" class="headerlink" title="Persistent storage?"></a>Persistent storage?</h3>Keeping everything on Docker has its risks. If you accidentally delete the container, everything in it will be lost, including code that you did not back up to git. It is highly recommended to continue the setup with persistent storage. Follow one of the two sections below based on your choice.<br>Bottom line: <strong><em>!!PUSH OFTEN!!</em></strong></li>
</ol>
<h3 id="Starting-the-container-without-persistent-storage"><a href="#Starting-the-container-without-persistent-storage" class="headerlink" title="Starting the container without persistent storage"></a>Starting the container without persistent storage</h3><h4 id="Windows-Mac-Users-1"><a href="#Windows-Mac-Users-1" class="headerlink" title="Windows/Mac Users"></a>Windows/Mac Users</h4><ol>
<li>Click on the run button (the little triangle) next to the pulled image</li>
<li>Drop down Optional Settings</li>
<li>Under Ports put down pairs of 6901 , 8080 , and 37391<sup><a href="#jump4">[4]</a></sup></li>
<li>Press run to create and start the container<h4 id="Linux-Users-1"><a href="#Linux-Users-1" class="headerlink" title="Linux Users"></a>Linux Users</h4></li>
<li>docker run -d -p 6901:6901 -p 8080:8080 -p 37391:37391<br>averagefossenjoyer/ece391_docker<sup><a href="#jump4">[4]</a></sup><h3 id="Starting-the-container-with-persistent-storage"><a href="#Starting-the-container-with-persistent-storage" class="headerlink" title="Starting the container with persistent storage"></a>Starting the container with persistent storage</h3><h4 id="Windows-Mac-Users-2"><a href="#Windows-Mac-Users-2" class="headerlink" title="Windows/Mac Users"></a>Windows/Mac Users</h4></li>
<li>Create an empty folder, we will mount this onto the container</li>
<li>Drop down Optional Settings</li>
<li>Under Ports , put down matching pairs of 6901 , 8080 , and 37391<sup><a href="#jump4">[4]</a></sup></li>
<li>Under Volumes-&gt;Host Path , look for the folder you just created</li>
<li>Under Volumes-&gt;Container Path , put down /home/user/mount_share</li>
<li>Press run to create and start the container<h4 id="Linux-Users-2"><a href="#Linux-Users-2" class="headerlink" title="Linux Users"></a>Linux Users</h4></li>
<li>Create an empty folder, we will mount this onto the container. We will refer the absolute path of this<br>folder as ${mount_share}</li>
<li>docker run -d -p 6901:6901 -p 8080:8080 -p 37391:37391 -v ${mount_share}:/home/user/mount_share:rw averagefossenjoyer/ece391_docker<h3 id="Using-the-container"><a href="#Using-the-container" class="headerlink" title="Using the container"></a>Using the container</h3></li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>Port</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>6901</td>
<td>VNC</td>
</tr>
<tr>
<td>37391</td>
<td>SSH</td>
</tr>
<tr>
<td>8080</td>
<td><a target="_blank" rel="noopener" href="https://github.com/coder/code-server">Code Server</a></td>
</tr>
</tbody>
</table>
</div>
<p>Simply open up localhost:6901 in your browser</p>
<h3 id="Extra-setup-with-persistent-storage"><a href="#Extra-setup-with-persistent-storage" class="headerlink" title="Extra setup with persistent storage"></a>Extra setup with persistent storage</h3><p>We will need to copy the kernel source to your persistent storage</p>
<ol>
<li>Within the container, open up a terminal</li>
<li>sudo chown user:root ~/mount_share</li>
<li>cp -pr ~/ece391/smb_share/work ~/mount_share/</li>
<li>Open up /etc/samba/smb.conf with <del>your favorite editor</del> vim or xedit if you prefer gui</li>
<li>Scroll to the bottom, comment the docker share and uncomment the mounted share to look like below:</li>
</ol>
<p>### BEGIN ECE391 CONFIG ###<br>### Docker samba share<br>#[ece391_share]<br># path = “/home/user/ece391/smb_share”<br># valid users = user<br># create mask = 0755<br># read only = no</p>
<p>### Mounted samba share<br>[ece391_share]<br>&emsp;&emsp;path = “/home/user/mount_share”<br>&emsp;&emsp;valid users = user<br>&emsp;&emsp;create mask = 0755<br>&emsp;&emsp;read only = no</p>
<ol>
<li>sudo service smbd restart</li>
</ol>
<p>Note: For consistency w.r.t. makefile, you <strong>must</strong> repeat all of these steps <strong>every time</strong> the container is destroyed (you don’t have to if you just stop it). Yes, that involves overwriting the kernel source code, and you must do any patch necessary for the MP.</p>
<h2 id="Extra-notes"><a href="#Extra-notes" class="headerlink" title="Extra notes"></a>Extra notes</h2><h3 id="What’s-the-password-for…"><a href="#What’s-the-password-for…" class="headerlink" title="What’s the password for…?"></a>What’s the password for…?</h3><ul>
<li>ece391</li>
</ul>
<h3 id="SSH-access"><a href="#SSH-access" class="headerlink" title="SSH access"></a>SSH access</h3><ul>
<li>Check ~/.ssh/config for HostName to ssh into devel/test</li>
<li>Syntax is ssh ${HostName}<h3 id="Qemu-tools-for-arm64"><a href="#Qemu-tools-for-arm64" class="headerlink" title="Qemu tools for arm64"></a>Qemu tools for arm64</h3></li>
<li>You may want access to qemu terminal, the way to do this is different for qemu 2.0</li>
<li>Instead of launching Qemu via ./devel , do it with ./devel -monitor stdio<h3 id="X-forwarding"><a href="#X-forwarding" class="headerlink" title="X-forwarding"></a>X-forwarding</h3></li>
<li>No. If you really really need it for some reason, email zongrui3@illinois.edu<h3 id="Source-Code"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code</h3></li>
<li>Available at <a target="_blank" rel="noopener" href="https://gitea.averagefossenjoyer.com/frank/ece391_docker">https://gitea.averagefossenjoyer.com/frank/ece391_docker</a></li>
</ul>
<ol>
<li><span id="jump1">For Windows users: During installation, you may get a prompt saying WSL is outdated. Open command prompt and type in wsl —update ↩</span></li>
<li><span id="jump2">For Windows users, it will be latest-amd64 . For Mac users, it is the same unless you have an M1/M2, then it will be latest-arm64 ↩</span></li>
<li><span id="jump3">You may want to setup <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/security/rootless/">rootless mode</a> ↩</span></li>
<li><span id="jump4">You may change the port mapping as you wish. It is recommended to keep it the same for ease of remembering. ↩ ↩ ↩ ↩</span></li>
</ol>
<h1 id="Working-on-Illinix-391"><a href="#Working-on-Illinix-391" class="headerlink" title="Working on Illinix 391"></a>Working on Illinix 391</h1><h2 id="14-Appendix-G-Troubleshooting"><a href="#14-Appendix-G-Troubleshooting" class="headerlink" title="14 Appendix G: Troubleshooting"></a>14 Appendix G: Troubleshooting</h2><h3 id="14-1-Debugging-with-QEMU"><a href="#14-1-Debugging-with-QEMU" class="headerlink" title="14.1 Debugging with QEMU"></a>14.1 Debugging with QEMU</h3><p>This section describes how to build your new OS which will be embedded, together with the filesys img, in mp3.img.<br>Wheneverachangeismadetoyourkernelorfilesystem,youneedtosudo makeanewkernel,whichconsequently prepares the mp3.img file which is used in the newly modified test debug.lnk file.<br>Your new test debug.lnk file should be modified to pass the new mp3 QEMU image. Change the target line to </p>
<blockquote>
<p>“c:\qemu-1.5.0-win32-sdl\qemu-system-i386w.exe” -hda “<mp3 directory>\mp3.img” -m 256 -gdb tcp:127.0.0.1:1234 -S -name mp3</p>
</blockquote>
<p>You may also write the following to a .bat file to accomplish the same thing:</p>
<blockquote>
<p>c:<br>cd “c:\qemu-1.5.0-win32-sdl\”<br>qemu-system-i386w.exe -hda <mp3 directory>\mp3.img -m 256 -gdb tcp:127.0.0.1:1234 -S -name mp3</p>
</blockquote>
<p>where <mp3 directory> is likely to be: z:\mp3\student-distrib. In order to start debugging with GDB, run your test debug.lnk file, then issue the following commands in the development machine:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> &lt;mp3 directory&gt;/student-distrib </span><br><span class="line">gdb bootimg</span><br><span class="line">target remote 10.0.2.2:1234</span><br></pre></td></tr></table></figure><br>GDB should now be started and connected to QEMU. From here, you can set up break points and everything else that you would normally do with GDB. Type c to continue execution instead of r since you connected to QEMU which is already running. When you do continue execution in GDB, GRUB will load first in QEMU. You need to hit enter, or wait 5 seconds, for your OS to load. QEMU is known to crash if your page tables are incorrectly setup. You might have to use the task manager in Windows to kill QEMU if this happens.</p>
<h3 id="14-2-mnt-tmpmp3-Compile-Error"><a href="#14-2-mnt-tmpmp3-Compile-Error" class="headerlink" title="14.2 /mnt/tmpmp3 Compile Error"></a>14.2 /mnt/tmpmp3 Compile Error</h3><p>When compiling your kernel in MP3, you must first close the test machine. If you forget to close the test machine while compiling, or forget to run as root when you make, you will need to remove the old MP3 image before you can compile again. The commands below can be added to a script to remove the broken files and correct the issue (the last command should be run in git-bash).<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">rm</span> -rf /mnt/tmpmp3</span><br><span class="line"><span class="built_in">rm</span> bootimg</span><br><span class="line"><span class="built_in">rm</span> mp3.img</span><br><span class="line">git checkout mp3.img</span><br></pre></td></tr></table></figure><br>If you run the above steps and you still can’t compile, the mp3.img in your repo is broken. You will need to re- vert back to an earlier version of mp3.img or you will need to grab a fresh mp3.img from the class directory under mp3/student-distrib.</p>
<h3 id="14-3-Buffer-I-O-error-on-device-loop0-logical-block-lost-page-write-due-to-I-O-error-on-loop0"><a href="#14-3-Buffer-I-O-error-on-device-loop0-logical-block-lost-page-write-due-to-I-O-error-on-loop0" class="headerlink" title="14.3 Buffer I/O error on device loop0, logical block #### lost page write due to I/O error on loop0"></a>14.3 Buffer I/O error on device loop0, logical block #### lost page write due to I/O error on loop0</h3><p>While this error may be caused by many issues, it’s likely it was caused by an mp3.img corruption. Follow the above steps to attempt a fix.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://L10yx.github.io">老钉头</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://l10yx.github.io/2024/04/23/391os/">http://l10yx.github.io/2024/04/23/391os/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://L10yx.github.io" target="_blank">老钉头のBlog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/OS/">OS</a></div><div class="post_share"><div class="social-share" data-image="/img/3F7B146C-C286-4CCB-AE97-4DFD69F7EDAF_1_201_a.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/04/30/cs415/" title="Game Development UIUC-CS415 &lt;游戏开发&gt;"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Game Development UIUC-CS415 &lt;游戏开发&gt;</div></div></a></div><div class="next-post pull-right"><a href="/2024/04/23/ACIDvsBASE/" title="ACID VS BASE &lt;数据库&gt;"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">ACID VS BASE &lt;数据库&gt;</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/3F7B146C-C286-4CCB-AE97-4DFD69F7EDAF_1_201_a.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">老钉头</div><div class="author-info__description">A ZJUer majored in CompE</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/L10yx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/L10yx" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:yuxuanl.21@intl.zju.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎光临老钉头的博客！这里会不定期分享我在学习和工作中收集、整理和总结的信息，以及个人思考。<br>请注意，部分内容可能来源于互联网。若涉及版权问题，请及时与我联系，我将尽快处理相关内容！同时，对于任何其他问题或建议，也非常欢迎您与我交流讨论 :)<br>yuxuanl.21@intl.zju.edu.cn</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%93%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">仓库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80"><span class="toc-number">2.</span> <span class="toc-text">C语言基础</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux"><span class="toc-number">3.</span> <span class="toc-text">Linux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86"><span class="toc-number">3.0.1.</span> <span class="toc-text">文件和目录管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86"><span class="toc-number">3.0.2.</span> <span class="toc-text">文本处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF"><span class="toc-number">3.0.3.</span> <span class="toc-text">系统信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86"><span class="toc-number">3.0.4.</span> <span class="toc-text">网络管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E5%92%8C%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">3.0.5.</span> <span class="toc-text">权限和用户管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-number">3.0.6.</span> <span class="toc-text">进程管理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#debug-sh-%E8%AF%A6%E8%A7%A3"><span class="toc-number">4.</span> <span class="toc-text">debug.sh 详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Bash"><span class="toc-number">4.1.</span> <span class="toc-text">Bash</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E7%89%B9%E7%82%B9"><span class="toc-number">4.1.1.</span> <span class="toc-text">主要特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90"><span class="toc-number">4.1.2.</span> <span class="toc-text">基本组成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">4.1.2.1.</span> <span class="toc-text">输入&#x2F;输出重定向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%EF%BC%88-%EF%BC%89"><span class="toc-number">4.1.2.2.</span> <span class="toc-text">管道（|）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">4.1.3.</span> <span class="toc-text">使用场景</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Image"><span class="toc-number">5.</span> <span class="toc-text">Image</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF-1"><span class="toc-number">5.0.1.</span> <span class="toc-text">使用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-number">5.0.2.</span> <span class="toc-text">创建和使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD-img-%E6%96%87%E4%BB%B6"><span class="toc-number">5.0.3.</span> <span class="toc-text">挂载 .img 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">5.0.4.</span> <span class="toc-text">注意事项</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#multiboot-h"><span class="toc-number">6.</span> <span class="toc-text">multiboot.h</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GRUB-%E7%9A%84%E5%85%B3%E9%94%AE%E7%89%B9%E6%80%A7%EF%BC%9A"><span class="toc-number">6.0.1.</span> <span class="toc-text">GRUB 的关键特性：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GRUB-Compliance-%E7%9A%84%E6%84%8F%E4%B9%89%EF%BC%9A"><span class="toc-number">6.0.2.</span> <span class="toc-text">GRUB Compliance 的意义：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-number">7.</span> <span class="toc-text">开发流程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Checkpoint-1"><span class="toc-number">7.1.</span> <span class="toc-text">Checkpoint 1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#OS-Booting-GDT-amp-IDT-Setup"><span class="toc-number">7.1.1.</span> <span class="toc-text">OS Booting: GDT &amp; IDT Setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PIC-Programmable-interrupt-controller"><span class="toc-number">7.1.2.</span> <span class="toc-text">PIC (Programmable interrupt controller)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RTC"><span class="toc-number">7.1.3.</span> <span class="toc-text">RTC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Keyboard"><span class="toc-number">7.1.4.</span> <span class="toc-text">Keyboard</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E7%89%B9%E7%82%B9%E5%92%8C%E5%8A%9F%E8%83%BD"><span class="toc-number">7.1.4.1.</span> <span class="toc-text">主要特点和功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">7.1.4.2.</span> <span class="toc-text">应用场景</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Paging-%E5%88%86%E9%A1%B5"><span class="toc-number">7.1.5.</span> <span class="toc-text">Paging 分页</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Page-Directory-Entry-4-MB"><span class="toc-number">7.1.5.1.</span> <span class="toc-text">Page Directory Entry (4 MB)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Page-Directory-Entry"><span class="toc-number">7.1.5.2.</span> <span class="toc-text">Page Directory Entry</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Legend"><span class="toc-number">7.1.5.3.</span> <span class="toc-text">Legend</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Checkpoint-2"><span class="toc-number">7.2.</span> <span class="toc-text">Checkpoint 2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Terminal-Driver"><span class="toc-number">7.2.1.</span> <span class="toc-text">Terminal Driver</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File-system-Read-only"><span class="toc-number">7.2.2.</span> <span class="toc-text">File system (Read-only)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Guide-to-WFH-with-Docker"><span class="toc-number">8.</span> <span class="toc-text">Guide to WFH with Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Overview"><span class="toc-number">8.1.</span> <span class="toc-text">Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Disclaimer"><span class="toc-number">8.2.</span> <span class="toc-text">Disclaimer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setup-steps"><span class="toc-number">8.3.</span> <span class="toc-text">Setup steps</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Downloading-docker-and-pulling-the-image"><span class="toc-number">8.3.1.</span> <span class="toc-text">Downloading docker and pulling the image</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Windows-Mac-Users"><span class="toc-number">8.3.1.1.</span> <span class="toc-text">Windows&#x2F;Mac Users</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux-Users"><span class="toc-number">8.3.1.2.</span> <span class="toc-text">Linux Users</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Persistent-storage"><span class="toc-number">8.3.2.</span> <span class="toc-text">Persistent storage?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Starting-the-container-without-persistent-storage"><span class="toc-number">8.3.3.</span> <span class="toc-text">Starting the container without persistent storage</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Windows-Mac-Users-1"><span class="toc-number">8.3.3.1.</span> <span class="toc-text">Windows&#x2F;Mac Users</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux-Users-1"><span class="toc-number">8.3.3.2.</span> <span class="toc-text">Linux Users</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Starting-the-container-with-persistent-storage"><span class="toc-number">8.3.4.</span> <span class="toc-text">Starting the container with persistent storage</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Windows-Mac-Users-2"><span class="toc-number">8.3.4.1.</span> <span class="toc-text">Windows&#x2F;Mac Users</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux-Users-2"><span class="toc-number">8.3.4.2.</span> <span class="toc-text">Linux Users</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-the-container"><span class="toc-number">8.3.5.</span> <span class="toc-text">Using the container</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extra-setup-with-persistent-storage"><span class="toc-number">8.3.6.</span> <span class="toc-text">Extra setup with persistent storage</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Extra-notes"><span class="toc-number">8.4.</span> <span class="toc-text">Extra notes</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#What%E2%80%99s-the-password-for%E2%80%A6"><span class="toc-number">8.4.1.</span> <span class="toc-text">What’s the password for…?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSH-access"><span class="toc-number">8.4.2.</span> <span class="toc-text">SSH access</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Qemu-tools-for-arm64"><span class="toc-number">8.4.3.</span> <span class="toc-text">Qemu tools for arm64</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#X-forwarding"><span class="toc-number">8.4.4.</span> <span class="toc-text">X-forwarding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Source-Code"><span class="toc-number">8.4.5.</span> <span class="toc-text">Source Code</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Working-on-Illinix-391"><span class="toc-number">9.</span> <span class="toc-text">Working on Illinix 391</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#14-Appendix-G-Troubleshooting"><span class="toc-number">9.1.</span> <span class="toc-text">14 Appendix G: Troubleshooting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-1-Debugging-with-QEMU"><span class="toc-number">9.1.1.</span> <span class="toc-text">14.1 Debugging with QEMU</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-mnt-tmpmp3-Compile-Error"><span class="toc-number">9.1.2.</span> <span class="toc-text">14.2 &#x2F;mnt&#x2F;tmpmp3 Compile Error</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-3-Buffer-I-O-error-on-device-loop0-logical-block-lost-page-write-due-to-I-O-error-on-loop0"><span class="toc-number">9.1.3.</span> <span class="toc-text">14.3 Buffer I&#x2F;O error on device loop0, logical block #### lost page write due to I&#x2F;O error on loop0</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/05/02/cs440/" title="Artificial Intelligence UIUC-CS440 &lt;人工智能&gt;">Artificial Intelligence UIUC-CS440 &lt;人工智能&gt;</a><time datetime="2024-05-02T06:45:56.000Z" title="发表于 2024-05-02 14:45:56">2024-05-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/30/cs415/" title="Game Development UIUC-CS415 &lt;游戏开发&gt;">Game Development UIUC-CS415 &lt;游戏开发&gt;</a><time datetime="2024-04-30T01:18:20.000Z" title="发表于 2024-04-30 09:18:20">2024-04-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/23/391os/" title="LOS - A Light Linux Like OS Kernel &lt;操作系统内核&gt;">LOS - A Light Linux Like OS Kernel &lt;操作系统内核&gt;</a><time datetime="2024-04-23T08:17:49.000Z" title="发表于 2024-04-23 16:17:49">2024-04-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/23/ACIDvsBASE/" title="ACID VS BASE &lt;数据库&gt;">ACID VS BASE &lt;数据库&gt;</a><time datetime="2024-04-22T23:33:26.000Z" title="发表于 2024-04-23 07:33:26">2024-04-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/22/markdown/" title="Markdown手册">Markdown手册</a><time datetime="2024-04-21T23:27:41.000Z" title="发表于 2024-04-22 07:27:41">2024-04-22</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2024 By 老钉头</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>